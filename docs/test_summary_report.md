# TradingView 模拟交易功能测试总结报告

## 1. 项目概述
- **测试对象**：TradingView 图表页面的 Paper Trading（模拟交易）功能。
- **测试周期**：2026年1月29日（为期1天的集中测试）。
- **测试目标**：验证数字货币模拟交易的核心业务流程，包括行情、下单（市价/限价）、账户管理等功能的正确性与稳健性。

## 2. 测试范围
本次测试覆盖了模拟交易的三个核心模块：
- **行情模块**：交易对切换、价格显示。
- **交易模块**：
    - **市价单**：买入、卖出。
    - **限价单**：挂单、撤销。
- **账户模块**：虚拟资金、持仓、订单历史的准确性。

## 3. 测试策略与执行
- **测试方法**：手工测试为主，综合运用等价类划分、边界值分析、场景法等设计测试用例。
- **测试工具**：TradingView Web端、Postman（用于API校验）、Git（版本管理）。
- **测试数据**：平台初始虚拟资金 $100,000。
- **环境**：Chrome 浏览器，TradingView 公开环境。

## 4. 测试执行情况与质量评估
| 功能模块 | 用例总数 | 通过数 | 详细发现与质量评估 |
| :--- | :--- | :--- | :--- |
| **买入功能** | 4 | 4 | 1. 正向流程畅通，数据计算准确。<br>2. **分层校验有效**：输入负数时前端按钮即时禁用；输入超额（1,000,000 BTC）时，后端返回明确业务错误 `“Not enough funds...”`。 |
| **卖出功能** | 2 | 2 | 1. 正常卖出成功，资金变动准确。<br>2. **成功拦截卖空**：尝试卖出超过持仓（0.002 BTC）时，订单状态为 `rejected`，有效防止非法交易。 |
| **限价单功能** | 3 | 3 | 1. 成功验证 `working` (挂单) -> `cancelled` (撤销) 的完整生命周期。<br>2. 验证了“低价买单、高价卖单”不立即成交的核心逻辑。 |
| **总计** | **9** | **9** | **通过率：100%** |

## 5. 核心测试发现与深度分析
1.  **严谨的分层风控机制**：
    - **前端交互层**：对无效输入（如负数、零）即时限制，提升用户体验。
    - **后端业务层**：执行严格的资金与持仓校验，确保交易合法性。例如，对超额卖单返回 `rejected`。
2.  **完整的订单状态机**：通过测试，完整验证了订单从 `working`（挂单）到 `cancelled`（撤销）或 `filled`（成交）的状态流转，这是金融系统可靠性的基础。
3.  **卓越的数据一致性**：经逐笔核对，**订单成交金额、冻结资金、持仓盈亏等核心财务数据计算100%准确**，符合金融软件对数据零差错的核心要求。
4.  **可优化的用户体验**：
    - 输入负数时，提示语为 `“Specified amount is less than the symbol minimum...”`，更偏向技术描述。建议优化为 `“交易数量必须为正数”`，以更直观地引导用户。

## 6. 测试结论
**通过**。
TradingView 模拟交易功能的核心业务流程在测试范围内运行正确、稳定。系统具备有效的风控措施，资产计算精确，满足模拟交易场景的质量要求，质量风险低。

## 7. 测试产出物清单
1.  `docs/test_plan.md` - 测试计划
2.  `docs/test_cases.xlsx` - 详细测试用例集（9条）
3.  `docs/test_summary_report.md` - 本总结报告
4.  `day2_api.py` - 行情数据获取脚本
5.  完整的GitHub仓库与提交历史 - 记录所有工作过程